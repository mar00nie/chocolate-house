---
platform: linux

image_resource:
  type: docker-image
  source: {repository: ubuntu}

inputs:
- name: pipeline-app

run:
  path: sh
  args:
  - -c
  - |
    apt-get update -y && apt-get upgrade -y
    curl -sL https://deb.nodesource.com/setup_$12.x | sudo -E bash -
    apt-get install -y nodejs npm git curl
    npm install -g npm@latest
    nodejs --version
    npm --version
    cd pipeline-app
    npm install -y
    chmod +x app.js
    node ./app.js
